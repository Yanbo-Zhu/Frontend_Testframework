

# 1 安装

![](image/Pasted%20image%2020250321130228.png)

npm install cypress --save-dev
--save-dev 将 cypress 保存到 当前目录下 



# 2 运行测试 

打开 cypress UI 
- .node_modules/.bin 中 运行 cypress open 
- npx cypress open
- npm run cypress open, 如果在package.json 中d的 script 中 已经定义了 "test-e2e": "cypress open"

![](image/Pasted%20image%2020250322140939.png)

---

![](image/Pasted%20image%2020250321234400.png)


运行测试
- 运行所有测试用例
    - npx cypress run
- 运行指定spec
    - npx cypress run --spec "cypress\intergration\demo.spec.js"
- 无头有头切换
    - npx cypress run --headed
        - 有头模式  会出现阅览器的界面 
        - 无头模式  测试结果只会出现在 console 中 
- 指定浏览器
    - npx cypress run --browser=chrome


![](image/Pasted%20image%2020250321160150.png)




# 3 安装 Cypress with Vue support and the Vite dev server integration for testing


the @next tag might not be necessary if you're looking for stable versions

npm add @cypress/vue@next @cypress/vite-dev-server --dev

After installing, make sure your Cypress configuration (cypress.config.js or cypress.config.ts) is set up to use Vite as the dev server.

@cypress/vite-dev-server
Implements the APIs for the object-syntax of the Cypress Component-testing "vite dev server".
https://www.npmjs.com/package/@cypress/vite-dev-server



# 4 安装配件 

## 4.1 Jest assertions for Cypress

![](image/Pasted%20image%2020250321165826.png)


![](image/Pasted%20image%2020250321165845.png)


# 5 配置 


cypress.config.js
```js
import { defineConfig } from "cypress";

export default defineConfig({
  e2e: {
    setupNodeEvents(on, config) {
      // implement node event listeners here
    },
  },

  component: {
    devServer: {
      framework: "vue",
      bundler: "vite",
    },
    pecPattern: "src/component/**/*.spec.{js,ts,jsx}"   //去哪里去找  test spec 
  },
});
```

package.json 
```json
{
  "name": "kanban",
  "version": "0.0.0",
  "private": true,
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "cy:open": "cypress open",
    "cy:open-ct": "cypress open-ct",
    "cy:open-e2x": "cypress open-e2e",
    "cy:run": "cypress run",
    "cy:run-ct": "cypress run-ct"
  },
  "dependencies": {
    "@cypress/vite-dev-server": "^6.0.2",
    "@cypress/vue": "^3.1.0",
    "bootstrap": "^5.3.2",
    "bootstrap-icons": "^1.11.3",
    "vue": "^3.4.14"
  },
  "devDependencies": {
    "@vitejs/plugin-vue": "^5.2.1",
    "cypress": "^14.2.0",
    "cypress-jest-adapter": "^0.1.1",
    "vite": "^6.2.0"
  }
}

```
